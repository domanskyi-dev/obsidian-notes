## test_Git

## **1. Основы Git**

### **1.1 Что такое Git?**

Распределённая система контроля версий, которая:

- Фиксирует изменения в коде (коммиты).
- Позволяет работать с ветками.
- Сохраняет историю изменений.

### **1.2 Базовая настройка**
```bash
git config --global user.name "Ваше Имя"
git config --global user.email "ваш@email.com"
git config --global core.editor "code --wait"  # Использовать VS Code как редактор
```
**Проверка настроек:**
```bash
git config --list
```
## **2. Работа с репозиторием**

### **2.1 Создание и клонирование**
```bash
git init              # Создать новый репозиторий
git clone <url>       # Клонировать существующий (например, с GitHub)
```
### **2.2 Основной workflow**
```bash
git add <file>        # Добавить файл в staging area
git add .             # Добавить все изменённые файлы
git commit -m "Сообщение"  # Зафиксировать изменения
git push              # Отправить изменения на удалённый сервер
git pull              # Загрузить изменения с сервера
```
## **3. Ветки (Branches)**

### **3.1 Основные команды**
```bash
git branch            # Показать все ветки
git branch <name>     # Создать новую ветку
git checkout <name>   # Переключиться на ветку
git switch <name>     # Альтернатива checkout (Git 2.23+)
git merge <branch>    # Влить ветку в текущую
git branch -d <name>  # Удалить ветку
```
### **3.2 Стратегии работы с ветками**

- **Git Flow**:
    - `main` — стабильная версия.
    - `develop` — разработка.
    - `feature/` — новые фичи.
    - `hotfix/` — срочные исправления.
- **GitHub Flow** (упрощённый):
    - Ветки от `main` для задач.
    - Пулл-реквесты → мердж в `main`.

## **4. Отмена изменений**

### **4.1 До коммита**
```bash
git restore <file>     # Откатить изменения в файле (Git 2.23+)
git checkout -- <file> # Альтернатива для старых версий
```
### **4.2 После коммита**
```bash
git reset --soft HEAD~1  # Отменить коммит, но оставить изменения
git reset --hard HEAD~1  # Полностью удалить коммит и изменения
git revert <commit-hash> # Создать новый коммит, отменяющий изменения
```
**Важно:** `git reset --hard` опасен — изменения нельзя восстановить!

## **5. История и логи**

### **5.1 Просмотр истории**
```bash
git log               # Показать коммиты
git log --oneline     # Краткий вывод
git log --graph       # Визуализация ветвления
git show <commit>     # Детали коммита
```
### **5.2 Поиск изменений**
```bash
git blame <file>      # Кто и когда менял файл
git grep "текст"      # Поиск текста в репозитории
```
## **6. Работа с удалёнными репозиториями**

### **6.1 Основные команды**
```bash
git remote -v              # Список удалённых репозиториев
git remote add <name> <url> # Добавить удалённый репозиторий
git fetch                  # Загрузить изменения без слияния
git pull --rebase          # Пулл с перебазированием (лучше для истории)
```
### **6.2 Теги (версионирование)**
```bash
git tag v1.0.0           # Создать тег
git push origin v1.0.0   # Отправить тег на сервер
```
## **7. Продвинутые техники**

### **7.1 Stash (временное сохранение)**
```bash
git stash              # Сохранить изменения без коммита
git stash pop          # Вернуть изменения
git stash list         # Показать stash-и
```
### **7.2 Rebase vs Merge**

- **`git merge`** — создаёт новый коммит слияния.
```bash
git checkout main
git merge feature
```
- **`git rebase`** — перестраивает историю, делая её линейной.
```bash
git checkout feature
git rebase main
```
**Когда использовать:**

- `merge` — для публичных веток.
- `rebase` — для локальной чистки истории (перед пуллом).

### **7.3 Интерактивный rebase**

Позволяет редактировать коммиты:
```bash
git rebase -i HEAD~3  # Редактировать последние 3 коммита
```
**Опции:**
- `reword` — изменить сообщение коммита.
- `squash` — объединить коммиты.
- `drop` — удалить коммит.

## **8. Вопросы с собеседований**

### **Вопрос 1: Чем `git pull` отличается от `git fetch`?**

**Ответ:**
- `git fetch` — загружает изменения с сервера, но не сливает их.
- `git pull` = `git fetch` + `git merge`.

---

### **Вопрос 2: Как исправить последний коммит?**

**Ответ:**
```bash
git commit --amend  # Изменить сообщение или добавить файлы
```
**Важно:** Не делать `amend` для уже отправленных (`pushed`) коммитов!
### **Вопрос 3: Как удалить файл из Git, но оставить на диске?**

**Ответ:**
```bash
git rm --cached <file>
```
### **Вопрос 4: Что такое конфликт слияния? Как его решить?**

**Ответ:**  
Конфликт возникает, когда Git не может автоматически слить изменения.  
**Шаги решения:**

1. Открыть файл с конфликтом (ищем `<<<<<<<`, `=======`, `>>>>>>>`).
2. Вручную выбрать нужные изменения.
3. Удалить маркеры конфликта.
4. Сделать `git add` и `git commit`.

### **Вопрос 5: Как переименовать ветку?**

**Ответ:**
```bash
git branch -m old-name new-name  # Локально
git push origin :old-name new-name  # На сервере
```

## **9. Полезные команды**
```bash
git diff              # Показать изменения
git status            # Текущее состояние
git cherry-pick <commit>  # Перенести коммит из другой ветки
git bisect            # Поиск коммита с багом (бинарный поиск)
```

## **10. Практические задачи**

**Задача 1:** Создать ветку `feature/login`, добавить файл `login.py`, сделать коммит и смерджить в `main`.
```bash
git checkout -b feature/login
touch login.py
git add .
git commit -m "Add login feature"
git checkout main
git merge feature/login
```
**Задача 2:** Отменить последний коммит, но сохранить изменения.
```bash
git reset --soft HEAD~1
```
## **Итог**
- **Коммиты** — фиксируй изменения атомарно.
- **Ветки** — изолируй фичи и эксперименты.
- **Merge vs Rebase** — знай разницу.
- **Конфликты** — решай вручную.
- **История** — используй `git log` и `git reflog` для отладки.

**Совет:**
- Делай `git pull --rebase` вместо обычного `pull`.
- Пиши осмысленные сообщения коммитов.