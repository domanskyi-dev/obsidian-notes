#git/config #git/конфигурация
## Где хранятся настройки Git :
- Для всех пользователей системы. (системный)
Git ищет настройки в файле `/etc/gitconfig`, который содержит настройки для всех пользователей в системе и всех репозиториев. Если передать опцию `--system` команде `git config`, то операции чтения и записи будут производиться именно с этим файлом.
- Для конкретного пользователя. (глобальный)
Следующее место, куда смотрит Git — это файл `~/.gitconfig` (или `~/.config/git/config`), который хранит настройки конкретного пользователя. Вы можете указать Git читать и писать в него, используя опцию `--global`.
- Для текущего репозитария. (локальный)
Git ищет параметры конфигурации в файле настроек в каталоге Git (`.git/config`) текущего репозитория. Эти значения относятся только к текущему репозиторию и доступны при передаче параметра `--local` команде `git config`. (Если уровень настроек не указан явно, то подразумевается локальный.)

В системах семейства Windows Git ищет файл `.gitconfig` в каталоге `$HOME` (`C:\Users\$USER` для большинства пользователей). Кроме того, Git ищет файл `[path]/etc/gitconfig`, но уже относительно корневого каталога MSys, который находится там, куда вы решили установить Git при запуске инсталлятора.

Если вы используете Git для Windows версии 2.х или новее, то так же обрабатывается файл конфигурации уровня системы, который имеет путь `C:\Documents and Settings\All Users\Application Data\Git\config` в Windows XP или `C:\ProgramData\Git\config` в Windows Vista и новее. Этот файл может быть изменён только командой `git config -f <file>`, запущенной с правами администратора.

## Базовая конфигурация клиента
Для просмотра полного списка настроек, поддерживаемых вашей версией Git, выполните команду:

```console
$ man git-config
```
Для Windows:
```console
git config --help
```
Эта команда выведет список доступных настроек с довольно подробным описанием. Так же, соответствующую документацию можно найти здесь [https://git-scm.com/docs/git-config.html](https://git-scm.com/docs/git-config.html).

Чтобы посмотреть все установленные настройки и узнать где именно они заданы, используйте команду:

```console
$ git config --list --show-origin
```

Также вы можете проверить значение конкретного ключа, выполнив `git config <key>`:

```console
$ git config user.name
```
### Имя пользователя
#git/config/user #git/конфигурация/пользователь

Первое, что вам следует сделать после установки Git — указать ваше имя и адрес электронной почты. Это важно, потому что каждый коммит в Git содержит эту информацию, и она включена в коммиты, передаваемые вами, и не может быть далее изменена:

```console
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
```

### `core.editor`
 Чтобы изменить редактор по умолчанию, воспользуйтесь настройкой `core.editor`:
Например:
```console
$ git config --global core.editor emacs
```

В системе Windows следует указывать полный путь к исполняемому файлу при установке другого текстового редактора по умолчанию.
```console
$ git config --global core.editor "'C:/Program Files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"
```

[Команды git config core.editor](https://git-scm.com/book/ru/v2/ch00/r_core_editor)

### Настройка ветки по умолчанию

Когда вы инициализируете репозиторий командой `git init`, Git создаёт ветку с именем _master_ по умолчанию.
Чтобы установить имя _main_ для вашей ветки по умолчанию, выполните следующую команду:

```console
$ git config --global init.defaultBranch main
```

### `commit.template`
Если указать путь к существующему файлу, то он будет использован как сообщение по умолчанию при создании коммита.
Например, предположим что вы создали файл `~/.gitmessage.txt`, который выглядит так:

```text
Subject line (try to keep under 50 characters)

Multi-line description of commit,
feel free to be detailed.

[Ticket: X]
```
Чтобы заставить Git отображать содержимое этого файла в редакторе каждый раз при выполнении команды `git commit`, следует установить значение параметра `commit.template`:

```console
$ git config --global commit.template ~/.gitmessage.txt
```

### `core.pager`
Данная настройка определяет какая программа будет использована для разбиения текста на страницы при выводе такой информации как `log` и `diff`. Вы можете указать `more` или любую другую (по умолчанию используется `less`), а так же выключить совсем, установив пустое значение:

```console
$ git config --global core.pager ''
```

В таком случае, Git будет выводить весь текст полностью, вне зависимости от его длины.

### `user.signingkey`
Если вы создаёте подписанные аннотированные теги, то установка GPG ключа в настройках облегчит вам задачу. Установить ключ можно следующим образом:

```console
$ git config --global user.signingkey <gpg-key-id>
```

### `core.excludesfile`
Данная настройка позволяет вам определить что-то вроде глобального файла `.gitignore`. Если вы создадите файл `~/.gitignore_global` с содержанием:

```ini
*~
.*.swp
.DS_Store
```

… и выполните команду `git config --global core.excludesfile ~/.gitignore_global`, то Git больше не потревожит вас на счёт этих файлов.

### `help.autocorrect`
Если вы ошибётесь в написании команды, Git старается угадать, что вы имели ввиду, но при этом команду не выполняет. Если вы установите `help.autocorrect` в значение 1, то Git будет выполнять эту команду. Команда выполнится через «0.1» секунды. `help.autocorrect` — это число, указываемое в десятых долях секунды. Поэтому, если вы установите значение 50, то Git даст вам 5 секунд изменить своё решение перед тем, как выполнить скорректированную команду.

## Цвета в Git

### `color.ui`
Для отключения цветового вывода в терминал, выполните следующую команду:

```console
$ git config --global color.ui false
```
Значение по умолчанию — `auto`, при котором цвета используются при непосредственном выводе в терминал, но исключаются при перенаправлении вывода в именованный канал или файл.
Вы так же можете установить значение `always`, что делает вывод одинаковым как в терминал, так и в именованный канал. 

### `color.*`

Если вы хотите явно указать вывод каких команд должен быть подсвечен и как, Git предоставляет соответствующие настройки. Каждая из них может быть установлена в значения `true`, `false` или `always`:

color.branch
color.diff
color.interactive
color.status

Например, чтобы установить для метаинформации вывода команды diff синий цвет, чёрный фон и полужирный шрифт, выполните команду:

```console
$ git config --global color.diff.meta "blue black bold"
```

Для установки цвета доступны следующие значения: `normal`, `black`, `red`, `green`, `yellow`, `blue`, `magenta`, `cyan`, или `white`. Для указания атрибутов текста, как `bold` в предыдущем примере, доступны значения: `bold`, `dim`, `ul` (подчёркнутый), `blink` и `reverse` (поменять местами цвет фона и цвет текста).

## Внешние программы слияния и сравнения
Хоть в Git и есть встроенная программа сравнения, вы можете установить вместо неё другую. Вы также можете настроить графический инструмент разрешения конфликтов слияния вместо того, чтобы разрешать конфликты вручную. Мы покажем как настроить Perforce Visual Merge Tool (P4Merge) для разрешения конфликтов слияния, так как это прекрасный и бесплатный инструмент. [ссылка на инструкцию](https://git-scm.com/book/ru/v2/%d0%9d%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0-Git-%d0%9a%d0%be%d0%bd%d1%84%d0%b8%d0%b3%d1%83%d1%80%d0%b0%d1%86%d0%b8%d1%8f-Git#:~:text=%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B%20%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D1%8F%20%D0%B8%20%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F)

## Форматирование и пробелы
#git/config/format #git/конфигурация/форматирование
### `core.autocrlf`
Git может автоматически конвертировать переносы строк CRLF в LF при добавлении файла в индекс и наоборот — при извлечении кода. Такое поведение можно включить используя настройку `core.autocrlf`. Если у вас Windows, то установите значение `true` — при извлечении кода LF окончания строк будут преобразовываться в CRLF:

```console
$ git config --global core.autocrlf true
```

Если у вас система Linux или Mac, то вам не нужно автоматически конвертировать переносы строк при извлечении файлов; однако, если файл с CRLF окончаниями строк случайно попал в репозиторий, то Git может его исправить. Можно указать Git конвертировать CRLF в LF во время коммита, но не наоборот, установив настройке `core.autocrlf` значение `input`:

```console
$ git config --global core.autocrlf input
```

Такая конфигурация позволит вам использовать CRLF переносы строк в Windows, при этом в репозитории и системах Mac и Linux будет использован LF.

Если вы используете Windows и программируете только для Windows, то вы можете отключить описанный функционал задав значение `false`, сохраняя при этом CR символы в репозитории:

```console
$ git config --global core.autocrlf false
```

### `core.whitespace`
Настройки, что включены по умолчанию — это `blank-at-eol`, что ищет пробелы в конце строки; `blank-at-eof`, что ищет пробелы в конце файла; и `space-before-tab`, что ищет пробелы перед символом табуляции в начале строки.

Настройки, что выключены по умолчанию — это `indent-with-non-tab`, что ищет строки с пробелами вначале вместо символа табуляции (и контролируется настройкой `tabwidth`); `tab-in-indent`, что ищет символы табуляции в отступах в начале строки; и `cr-at-eol`, которая указывает Git на валидность наличия CR в конце строки.

Указав через запятую значения для настройки `core.whitespace`, можно сказать Git какие из этих опций должны быть включены. Например:
(`trailing-space` является сокращением и охватывает как `blank-at-eol`, так и `blank-at-eof`):

```console
$ git config --global core.whitespace \
    trailing-space,-space-before-tab,indent-with-non-tab,tab-in-indent,cr-at-eol
```

Или можно указать только часть проверок:

```console
$ git config --global core.whitespace \
    -space-before-tab,indent-with-non-tab,tab-in-indent,cr-at-eol
```
Git будет искать указанные проблемы при выполнении команды `git diff` и пытаться подсветить их, чтобы вы могли исправить их перед коммитом. Так же эти значения будут использоваться во время применения патчей командой `git apply`. При применении патчей, можно явно указать Git информировать вас в случае нахождения проблем с пробелами:

```console
$ git apply --whitespace=warn <patch>
```

Так же можно указать Git автоматически исправлять эти проблемы перед применением патча:

```console
$ git apply --whitespace=fix <patch>
```

Эти настройки так же применяются при выполнении команды `git rebase`. Если проблемные пробелы попали в коммит, но ещё не отправлены в удалённую ветку, можно выполнить `git rebase --whitespace=fix` для автоматического исправления этих проблем.

