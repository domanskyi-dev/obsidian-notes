## Конфигурация сервера

#git/config/server #git/конфигурация/сервер
#### `receive.fsckObjects`

Git способен убедиться, что каждый объект, отправленный командой `push`, валиден и соответствует своему SHA-1-хешу. По умолчанию эта функция отключена; это очень дорогая операция и может привести к существенному замедлению, особенно для больших объёмов отправляемых данных или для больших репозиториев. Вы можете включить проверку целостности объектов для каждой операции отправки, установив значение `receive.fsckObjects` в `true`:

```console
$ git config --system receive.fsckObjects true
```

Теперь, Git будет проверять целостность репозитория до принятия новых данных для уверенности, что неисправные или злонамеренные клиенты не смогут отправить повреждённые данные.

#### `receive.denyNonFastForwards`

Если вы перебазируете коммиты, которые уже отправлены, и попытаетесь отправить их снова или попытаетесь отправить коммит в удалённую ветку, в которой не содержится коммит, на который она указывает, то данные приняты не будут. В принципе, это правильная политика; но в случае перебазирования — вы знаете, что делаете и можете принудительно обновить удалённую ветку используя флаг `-f` для команды `push`.

Для запрета перезаписи истории установите `receive.denyNonFastForwards`:

```console
$ git config --system receive.denyNonFastForwards true
```

Сделать то же самое можно другим способом — используя хук на стороне сервера. Этот подход позволяет более гибко настроить ограничения, например, запретить перезапись истории определённой группе пользователей.

#### `receive.denyDeletes`

Политику `denyNonFastForwards` можно обойти, удалив ветку и создав новую с таким же именем. Для предотвращения этого, установите `receive.denyDeletes` в значение `true`:

```console
$ git config --system receive.denyDeletes true
```

Эта команда запретит удаление веток и тегов всем пользователям. Чтобы удалить ветку, придётся удалить все соответствующие ей файлы на сервере вручную. Куда более интересный способ — это настроить права пользователей.